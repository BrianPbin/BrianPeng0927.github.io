<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#box{height:100px;width:100px;background:#ccc;border:1px solid #000;}
</style>
<script type="text/javascript">
	onload=function(){
		var butArr=document.getElementsByTagName('button');
		var	box=document.getElementById('box');
		var	colorArr=["green","red","black","yellow","blue","pink","orange","silver","brown","gray",,"#ccc"]
		var	arr=[];
        butArr[0].onclick=function(){
            var act=setInterval(function(){//点击添加定时器
                box.style.background=colorArr[Math.floor(Math.random()*colorArr.length)];
                },100);
                arr.push(act);//定时器信息记录到数组中，防止多次点击生成多个定时器，导致无法取消
                //butArr[0].disabled=true;
        };
        butArr[1].onclick=function(){//点击停止
            for(var i=0;i<=arr.length-1;i++){
                    clearInterval(arr[i]);//将之前生成的定时器全部清除
                    //butArr[0].disabled=false;
            }
        }
	}
</script>
</head>

<body>
<div id="box"></div>
<button class="but1">点击间歇随机背景色</button>
<button class="but2">停止</button>
</body>
</html>
